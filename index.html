<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بازی هوشیار</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #D4AF37;
            --dark-gold: #B8860B;
            --black: #000000;
            --dark-gray: #111111;
            --gray: #222222;
            --light-gray: #333333;
            --white: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--black);
            color: var(--white);
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        /* صفحه لودینگ اولیه */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--black);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease;
        }

        .loading-image {
            width: 100%;
            height: 100%;
            background-image: url('https://raw.githubusercontent.com/ahmadrezaei090-debug/soberWeb/main/negin-art-1764247215354.png');
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
        }

        .loading-bar-container {
            position: absolute;
            bottom: 80px;
            width: 80%;
            height: 10px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            overflow: hidden;
            border: 1px solid var(--gold);
        }

        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--black), var(--gold));
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .loading-text {
            position: absolute;
            bottom: 100px;
            color: var(--gold);
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.7);
        }

        /* صفحه منو اصلی */
        .main-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://raw.githubusercontent.com/ahmadrezaei090-debug/Iran-rap/main/-2147483648_-219133.jpg');
            background-size: cover;
            background-position: center;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 1s ease;
        }

        /* هدر منو */
        .menu-header {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.7);
            animation: rotateLogo 10s infinite linear;
        }

        @keyframes rotateLogo {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .logo-half {
            position: absolute;
            width: 50%;
            height: 100%;
            top: 0;
        }

        .logo-black {
            left: 0;
            background-color: var(--black);
        }

        .logo-gold {
            right: 0;
            background-color: var(--gold);
        }

        .logo-text {
            color: var(--gold);
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.7);
        }

        /* دکمه‌های منو */
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 50px;
            align-items: center;
        }

        .menu-btn {
            width: 280px;
            padding: 18px 30px;
            font-size: 1.4rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .start-btn {
            background: linear-gradient(45deg, var(--gold), var(--dark-gold));
            color: var(--black);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .online-btn {
            background: linear-gradient(45deg, var(--gray), var(--light-gray));
            color: var(--white);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .menu-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.7);
        }

        .menu-btn:active {
            transform: translateY(0);
        }

        /* نوار پایین منو */
        .bottom-nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 15px 0;
            display: flex;
            justify-content: space-around;
            border-top: 2px solid var(--gold);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--white);
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 5px 15px;
            border-radius: 10px;
        }

        .nav-item:hover {
            color: var(--gold);
            transform: translateY(-5px);
        }

        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .nav-text {
            font-size: 1rem;
        }

        /* دکمه تنظیمات */
        .settings-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--gold);
            border: 2px solid var(--gold);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
        }

        .settings-btn:hover {
            transform: rotate(90deg);
            background-color: rgba(212, 175, 55, 0.2);
        }

        /* صفحه تنظیمات */
        .settings-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: none;
            flex-direction: column;
            padding: 30px;
            overflow-y: auto;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--gold);
        }

        .settings-title {
            font-size: 2rem;
            color: var(--gold);
        }

        .close-settings {
            background: none;
            border: none;
            color: var(--gold);
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .close-settings:hover {
            transform: scale(1.2);
        }

        .settings-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .settings-item {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--gold);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .settings-item:hover {
            background-color: rgba(212, 175, 55, 0.1);
            transform: translateX(10px);
        }

        .settings-item-title {
            font-size: 1.4rem;
            color: var(--gold);
            margin-bottom: 10px;
        }

        .settings-item-desc {
            color: #aaa;
            font-size: 1rem;
        }

        /* صفحه انتخاب نوع بازی */
        .game-select {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1500;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .game-select-title {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 50px;
            text-align: center;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.7);
        }

        .game-options {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .game-option {
            width: 300px;
            height: 350px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .game-option:hover {
            transform: translateY(-10px);
            border-color: var(--gold);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.4);
        }

        .game-icon {
            font-size: 5rem;
            color: var(--gold);
            margin-bottom: 20px;
        }

        .game-name {
            font-size: 1.8rem;
            color: var(--gold);
            margin-bottom: 15px;
        }

        .game-desc {
            text-align: center;
            color: #aaa;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .back-to-menu {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--gold);
            border: 2px solid var(--gold);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .back-to-menu:hover {
            transform: scale(1.1);
            background-color: rgba(212, 175, 55, 0.2);
        }

        /* صفحه بازی */
        .game-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--black);
            z-index: 1800;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            border-bottom: 2px solid var(--gold);
        }

        .game-stats {
            display: flex;
            gap: 30px;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 1.8rem;
            color: var(--gold);
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
        }

        .game-question {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
        }

        .question-text {
            font-size: 2rem;
            margin-bottom: 40px;
            max-width: 800px;
            line-height: 1.6;
        }

        .answer-input {
            width: 80%;
            max-width: 600px;
            padding: 20px;
            font-size: 1.5rem;
            background-color: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--gold);
            border-radius: 15px;
            color: white;
            text-align: center;
            margin-bottom: 30px;
        }

        .answer-input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.7);
        }

        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            width: 80%;
            max-width: 800px;
        }

        .option-btn {
            padding: 20px;
            font-size: 1.3rem;
            background-color: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--light-gray);
            border-radius: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-btn:hover {
            background-color: rgba(212, 175, 55, 0.2);
            border-color: var(--gold);
        }

        .game-controls {
            padding: 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .control-btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .submit-btn {
            background: linear-gradient(45deg, var(--gold), var(--dark-gold));
            color: var(--black);
        }

        .skip-btn {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid var(--light-gray);
        }

        .hearts {
            display: flex;
            gap: 10px;
        }

        .heart {
            color: #ff4757;
            font-size: 1.8rem;
        }

        .heart.empty {
            color: #555;
        }

        /* انیمیشن‌ها و افکت‌ها */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: 200px 0; }
        }

        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            background-size: 200px 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.8s ease forwards;
        }

        /* حالت موبایل */
        @media (max-width: 768px) {
            .menu-btn {
                width: 250px;
                padding: 15px 25px;
                font-size: 1.2rem;
            }
            
            .game-options {
                flex-direction: column;
                align-items: center;
            }
            
            .game-option {
                width: 90%;
                height: 300px;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .question-text {
                font-size: 1.5rem;
            }
            
            .bottom-nav {
                padding: 10px 0;
            }
            
            .nav-text {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- صفحه لودینگ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-image"></div>
        <div class="loading-text">در حال بارگذاری...</div>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
    </div>

    <!-- منوی اصلی -->
    <div class="main-menu" id="mainMenu">
        <div class="menu-header">
            <div class="logo-circle">
                <div class="logo-half logo-black"></div>
                <div class="logo-half logo-gold"></div>
            </div>
            <div class="logo-text">هوشیار</div>
        </div>
        
        <button class="settings-btn" id="settingsBtn">
            <i class="fas fa-cog"></i>
        </button>
        
        <div class="menu-buttons">
            <button class="menu-btn start-btn" id="startBtn">
                شروع بازی
            </button>
            <button class="menu-btn online-btn" id="onlineBtn">
                بازی آنلاین (به زودی)
            </button>
        </div>
        
        <div class="bottom-nav">
            <div class="nav-item" id="challengesBtn">
                <i class="fas fa-trophy nav-icon"></i>
                <div class="nav-text">چالش‌ها</div>
            </div>
            <div class="nav-item" id="pathsBtn">
                <i class="fas fa-road nav-icon"></i>
                <div class="nav-text">مسیرها</div>
            </div>
            <div class="nav-item" id="ticketsBtn">
                <i class="fas fa-ticket-alt nav-icon"></i>
                <div class="nav-text">بلیط</div>
            </div>
        </div>
    </div>

    <!-- صفحه تنظیمات -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2 class="settings-title">تنظیمات</h2>
            <button class="close-settings" id="closeSettingsBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="settings-options">
            <div class="settings-item" id="contactBtn">
                <h3 class="settings-item-title">ارتباط با ما</h3>
                <p class="settings-item-desc">ارتباط با تیم پشتیبانی بازی</p>
            </div>
            <div class="settings-item" id="creatorsBtn">
                <h3 class="settings-item-title">سازندگان</h3>
                <p class="settings-item-desc">معرفی تیم سازنده بازی هوشیار</p>
            </div>
            <div class="settings-item" id="soonBtn">
                <h3 class="settings-item-title">به زودی</h3>
                <p class="settings-item-desc">امکانات و ویژگی‌های در دست توسعه</p>
            </div>
            <div class="settings-item" id="motionBtn">
                <h3 class="settings-item-title">بازی با موشن گرافیک</h3>
                <p class="settings-item-desc">تجربه بازی با افکت‌های گرافیکی پیشرفته</p>
            </div>
        </div>
    </div>

    <!-- صفحه انتخاب نوع بازی -->
    <div class="game-select" id="gameSelect">
        <button class="back-to-menu" id="backToMenuBtn">
            <i class="fas fa-arrow-right"></i>
        </button>
        
        <h2 class="game-select-title">انتخاب نوع بازی</h2>
        
        <div class="game-options">
            <div class="game-option" id="twoHalfGame">
                <i class="fas fa-brain game-icon"></i>
                <h3 class="game-name">دو نیم فلش</h3>
                <p class="game-desc">در این حالت، چیستان نمایش داده می‌شود و شما باید پاسخ را تایپ کنید. برای هر سوال ۱۷ ثانیه وقت دارید و ۳ جان در اختیار شماست.</p>
            </div>
            
            <div class="game-option" id="twoOldGame">
                <i class="fas fa-question-circle game-icon"></i>
                <h3 class="game-name">دو اولد</h3>
                <p class="game-desc">در این حالت، چیستان با چهار گزینه نمایش داده می‌شود. شما باید گزینه درست را انتخاب کنید. هیچ محدودیت زمانی و جانی در این حالت وجود ندارد.</p>
            </div>
        </div>
    </div>

    <!-- صفحه بازی دو نیم فلش -->
    <div class="game-screen" id="twoHalfGameScreen">
        <div class="game-header">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="timer">۱۷</div>
                    <div class="stat-label">ثانیه باقی‌مانده</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="questionNum">۱/۷۰</div>
                    <div class="stat-label">سوال</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="score">۰</div>
                    <div class="stat-label">امتیاز</div>
                </div>
            </div>
            
            <div class="hearts" id="heartsContainer">
                <i class="fas fa-heart heart"></i>
                <i class="fas fa-heart heart"></i>
                <i class="fas fa-heart heart"></i>
            </div>
        </div>
        
        <div class="game-question">
            <div class="question-text" id="twoHalfQuestion">سوال اینجا نمایش داده می‌شود</div>
            <input type="text" class="answer-input" id="answerInput" placeholder="پاسخ خود را اینجا تایپ کنید...">
            
            <div class="game-controls">
                <button class="control-btn submit-btn" id="submitAnswerBtn">ثبت پاسخ</button>
                <button class="control-btn skip-btn" id="skipQuestionBtn">رد کردن سوال</button>
            </div>
        </div>
        
        <button class="back-to-menu" id="backToGameSelectBtn">
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>

    <!-- صفحه بازی دو اولد -->
    <div class="game-screen" id="twoOldGameScreen">
        <div class="game-header">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="twoOldQuestionNum">۱/۷۰</div>
                    <div class="stat-label">سوال</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="twoOldScore">۰</div>
                    <div class="stat-label">امتیاز</div>
                </div>
            </div>
        </div>
        
        <div class="game-question">
            <div class="question-text" id="twoOldQuestion">سوال اینجا نمایش داده می‌شود</div>
            
            <div class="options-container" id="optionsContainer">
                <button class="option-btn" data-option="1">گزینه اول</button>
                <button class="option-btn" data-option="2">گزینه دوم</button>
                <button class="option-btn" data-option="3">گزینه سوم</button>
                <button class="option-btn" data-option="4">گزینه چهارم</button>
            </div>
        </div>
        
        <button class="back-to-menu" id="backToGameSelectBtn2">
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>

    <script>
        // داده‌های نمونه برای بازی
        const twoHalfQuestions = [
            "چه چیزی می‌آید اما هرگز نمی‌رسد؟",
            "من شهرها دارم اما خانه‌ای ندارم، جنگل دارم اما درخت ندارم، رودخانه دارم اما آب ندارم. من چه هستم؟",
            "هر چه بیشترش را بگیری، بیشترش باقی می‌ماند. چیست؟",
            "می‌توانی مرا بشکنی بدون اینکه مرا لمس یا دیده‌ای؟",
            "همیشه در مقابلت است اما نمی‌توانی آن را ببینی. چیست؟",
            "اگر مرا دارید، می‌خواهید مرا به اشتراک بگذارید. اگر مرا به اشتراک بگذارید، مرا ندارید. من چه هستم؟",
            "پدر و مادری دارم اما هرگز به دنیا نیامده‌ام. من چه هستم؟",
            "روز می‌آید و شب می‌رود، اما هرگز نمی‌توانی ببینی. چیست؟",
            "هر چه بیشتر از آن بردارید، بزرگتر می‌شود. چیست؟",
            "می‌تواند سفر کند به دور دنیا در حالی که در یک گوشه باقی می‌ماند. چیست؟",
            // 60 سوال دیگر به صورت مشابه
        ];

        const twoOldQuestions = [
            {
                question: "پایتخت ایران کدام شهر است؟",
                options: ["تهران", "مشهد", "اصفهان", "شیراز"],
                correct: 1
            },
            {
                question: "بلندترین کوه ایران کدام است؟",
                options: ["دماوند", "زردکوه", "سبلان", "البرز"],
                correct: 1
            },
            {
                question: "کدام سیاره به خاطر حلقه‌هایش معروف است؟",
                options: ["مریخ", "زحل", "زهره", "مشتری"],
                correct: 2
            },
            {
                question: "چه تعداد قاره در جهان وجود دارد؟",
                options: ["5", "6", "7", "8"],
                correct: 3
            },
            {
                question: "رنگ برگ درختان در پاییز بیشتر چه رنگی است؟",
                options: ["سبز", "قرمز", "زرد", "نارنجی"],
                correct: 4
            },
            // 65 سوال دیگر به صورت مشابه
        ];

        // برای نمونه، 70 سوال تکمیل می‌کنیم
        for (let i = 6; i <= 70; i++) {
            twoHalfQuestions.push(`سوال نمونه ${i} برای دو نیم فلش: هر چه بیشتر از آن بگیری، بیشتر باقی می‌ماند؟`);
            
            twoOldQuestions.push({
                question: `سوال نمونه ${i} برای دو اولد: کدام گزینه صحیح است؟`,
                options: [`گزینه الف برای سوال ${i}`, `گزینه ب برای سوال ${i}`, `گزینه ج برای سوال ${i}`, `گزینه د برای سوال ${i}`],
                correct: Math.floor(Math.random() * 4) + 1
            });
        }

        // عناصر DOM
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingBar = document.getElementById('loadingBar');
        const mainMenu = document.getElementById('mainMenu');
        const settingsBtn = document.getElementById('settingsBtn');
        const settingsPanel = document.getElementById('settingsPanel');
        const closeSettingsBtn = document.getElementById('closeSettingsBtn');
        const startBtn = document.getElementById('startBtn');
        const onlineBtn = document.getElementById('onlineBtn');
        const gameSelect = document.getElementById('gameSelect');
        const backToMenuBtn = document.getElementById('backToMenuBtn');
        const twoHalfGame = document.getElementById('twoHalfGame');
        const twoOldGame = document.getElementById('twoOldGame');
        const twoHalfGameScreen = document.getElementById('twoHalfGameScreen');
        const twoOldGameScreen = document.getElementById('twoOldGameScreen');
        const backToGameSelectBtn = document.getElementById('backToGameSelectBtn');
        const backToGameSelectBtn2 = document.getElementById('backToGameSelectBtn2');
        const answerInput = document.getElementById('answerInput');
        const submitAnswerBtn = document.getElementById('submitAnswerBtn');
        const skipQuestionBtn = document.getElementById('skipQuestionBtn');
        const timerElement = document.getElementById('timer');
        const questionNumElement = document.getElementById('questionNum');
        const scoreElement = document.getElementById('score');
        const heartsContainer = document.getElementById('heartsContainer');
        const twoHalfQuestionElement = document.getElementById('twoHalfQuestion');
        const twoOldQuestionElement = document.getElementById('twoOldQuestion');
        const optionsContainer = document.getElementById('optionsContainer');
        const twoOldQuestionNumElement = document.getElementById('twoOldQuestionNum');
        const twoOldScoreElement = document.getElementById('twoOldScore');

        // متغیرهای حالت بازی
        let currentGame = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let lives = 3;
        let timer = 17;
        let timerInterval = null;
        let imagesLoaded = 0;
        let totalImages = 2; // دو تصویر اصلی که باید لود شوند

        // لیست تصاویر برای چک کردن لود شدن
        const imagesToLoad = [
            'https://raw.githubusercontent.com/ahmadrezaei090-debug/soberWeb/main/negin-art-1764247215354.png',
            'https://raw.githubusercontent.com/ahmadrezaei090-debug/Iran-rap/main/-2147483648_-219133.jpg'
        ];

        // بررسی لود شدن تصاویر
        function checkImagesLoaded() {
            imagesToLoad.forEach(src => {
                const img = new Image();
                img.onload = imageLoaded;
                img.onerror = imageLoaded; // حتی اگر خطا هم داد، به عنوان لود شده در نظر بگیر
                img.src = src;
            });
        }

        function imageLoaded() {
            imagesLoaded++;
            const progress = Math.min(100, (imagesLoaded / totalImages) * 100);
            loadingBar.style.width = `${progress}%`;
            
            if (imagesLoaded >= totalImages) {
                // کمی تاخیر برای نمایش نوار پر شدن کامل
                setTimeout(() => {
                    loadingScreen.style.opacity = '0';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        showMainMenu();
                    }, 1000);
                }, 500);
            }
        }

        // نمایش منوی اصلی
        function showMainMenu() {
            mainMenu.style.display = 'flex';
            setTimeout(() => {
                mainMenu.style.opacity = '1';
            }, 50);
        }

        // نمایش صفحه تنظیمات
        function showSettings() {
            settingsPanel.style.display = 'flex';
            setTimeout(() => {
                settingsPanel.style.opacity = '1';
            }, 50);
        }

        // مخفی کردن صفحه تنظیمات
        function hideSettings() {
            settingsPanel.style.opacity = '0';
            setTimeout(() => {
                settingsPanel.style.display = 'none';
            }, 500);
        }

        // نمایش صفحه انتخاب بازی
        function showGameSelect() {
            mainMenu.style.opacity = '0';
            setTimeout(() => {
                mainMenu.style.display = 'none';
                gameSelect.style.display = 'flex';
                setTimeout(() => {
                    gameSelect.style.opacity = '1';
                }, 50);
            }, 500);
        }

        // مخفی کردن صفحه انتخاب بازی
        function hideGameSelect() {
            gameSelect.style.opacity = '0';
            setTimeout(() => {
                gameSelect.style.display = 'none';
                showMainMenu();
            }, 500);
        }

        // شروع بازی دو نیم فلش
        function startTwoHalfGame() {
            currentGame = 'twoHalf';
            currentQuestionIndex = 0;
            score = 0;
            lives = 3;
            
            gameSelect.style.opacity = '0';
            setTimeout(() => {
                gameSelect.style.display = 'none';
                twoHalfGameScreen.style.display = 'flex';
                setTimeout(() => {
                    twoHalfGameScreen.style.opacity = '1';
                    loadTwoHalfQuestion();
                    startTimer();
                }, 50);
            }, 500);
        }

        // شروع بازی دو اولد
        function startTwoOldGame() {
            currentGame = 'twoOld';
            currentQuestionIndex = 0;
            score = 0;
            
            gameSelect.style.opacity = '0';
            setTimeout(() => {
                gameSelect.style.display = 'none';
                twoOldGameScreen.style.display = 'flex';
                setTimeout(() => {
                    twoOldGameScreen.style.opacity = '1';
                    loadTwoOldQuestion();
                }, 50);
            }, 500);
        }

        // بارگذاری سوال دو نیم فلش
        function loadTwoHalfQuestion() {
            if (currentQuestionIndex >= twoHalfQuestions.length) {
                endGame();
                return;
            }
            
            twoHalfQuestionElement.textContent = twoHalfQuestions[currentQuestionIndex];
            questionNumElement.textContent = `${currentQuestionIndex + 1}/${twoHalfQuestions.length}`;
            answerInput.value = '';
            answerInput.focus();
            
            // به روز رسانی قلب‌ها
            updateHearts();
            
            // ریست تایمر
            resetTimer();
        }

        // بارگذاری سوال دو اولد
        function loadTwoOldQuestion() {
            if (currentQuestionIndex >= twoOldQuestions.length) {
                endGame();
                return;
            }
            
            const question = twoOldQuestions[currentQuestionIndex];
            twoOldQuestionElement.textContent = question.question;
            twoOldQuestionNumElement.textContent = `${currentQuestionIndex + 1}/${twoOldQuestions.length}`;
            twoOldScoreElement.textContent = score;
            
            // به روز رسانی گزینه‌ها
            const optionButtons = optionsContainer.querySelectorAll('.option-btn');
            optionButtons.forEach((btn, index) => {
                btn.textContent = question.options[index];
                btn.classList.remove('correct', 'incorrect');
                btn.disabled = false;
            });
        }

        // شروع تایمر
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timer--;
                timerElement.textContent = timer;
                
                if (timer <= 0) {
                    clearInterval(timerInterval);
                    // زمان تمام شد
                    handleTimeOut();
                }
            }, 1000);
        }

        // ریست تایمر
        function resetTimer() {
            timer = 17;
            timerElement.textContent = timer;
            if (currentGame === 'twoHalf') {
                startTimer();
            }
        }

        // به روز رسانی قلب‌ها
        function updateHearts() {
            const hearts = heartsContainer.querySelectorAll('.heart');
            hearts.forEach((heart, index) => {
                if (index < lives) {
                    heart.classList.remove('empty');
                } else {
                    heart.classList.add('empty');
                }
            });
        }

        // زمانی که زمان تمام می‌شود
        function handleTimeOut() {
            lives--;
            updateHearts();
            
            if (lives <= 0) {
                endGame();
            } else {
                currentQuestionIndex++;
                setTimeout(() => {
                    loadTwoHalfQuestion();
                }, 1500);
            }
        }

        // بررسی پاسخ در بازی دو نیم فلش
        function checkAnswer() {
            const userAnswer = answerInput.value.trim().toLowerCase();
            // در اینجا منطق بررسی پاسخ واقعی را می‌توانید پیاده‌سازی کنید
            // برای نمونه، ما فرض می‌کنیم پاسخ صحیح "فردا" است برای سوال اول
            const correctAnswers = [
                "فردا", "نقشه", "چاله", "قول", "آینده", "راز", 
                "امید", "سایه", "سوراخ", "تمبر"
                // پاسخ‌های دیگر
            ];
            
            let isCorrect = false;
            if (currentQuestionIndex < correctAnswers.length) {
                isCorrect = userAnswer === correctAnswers[currentQuestionIndex];
            } else {
                // برای سوالات بعدی، یک منطق ساده
                isCorrect = userAnswer.length > 2;
            }
            
            if (isCorrect) {
                score += 10;
                scoreElement.textContent = score;
                answerInput.style.borderColor = '#2ecc71';
                answerInput.style.boxShadow = '0 0 15px rgba(46, 204, 113, 0.7)';
            } else {
                lives--;
                updateHearts();
                answerInput.style.borderColor = '#e74c3c';
                answerInput.style.boxShadow = '0 0 15px rgba(231, 76, 60, 0.7)';
                
                if (lives <= 0) {
                    setTimeout(() => {
                        endGame();
                    }, 1500);
                    return;
                }
            }
            
            setTimeout(() => {
                currentQuestionIndex++;
                loadTwoHalfQuestion();
                answerInput.style.borderColor = '#D4AF37';
                answerInput.style.boxShadow = 'none';
            }, 1500);
        }

        // بررسی پاسخ در بازی دو اولد
        function checkTwoOldAnswer(selectedOption) {
            const question = twoOldQuestions[currentQuestionIndex];
            const optionButtons = optionsContainer.querySelectorAll('.option-btn');
            const selectedButton = optionButtons[selectedOption - 1];
            
            // غیرفعال کردن همه دکمه‌ها
            optionButtons.forEach(btn => {
                btn.disabled = true;
            });
            
            if (selectedOption === question.correct) {
                selectedButton.classList.add('correct');
                score += 10;
                twoOldScoreElement.textContent = score;
            } else {
                selectedButton.classList.add('incorrect');
                // نمایش پاسخ صحیح
                optionButtons[question.correct - 1].classList.add('correct');
            }
            
            setTimeout(() => {
                currentQuestionIndex++;
                loadTwoOldQuestion();
            }, 2000);
        }

        // پایان بازی
        function endGame() {
            alert(`بازی به پایان رسید! امتیاز شما: ${score}`);
            
            if (currentGame === 'twoHalf') {
                twoHalfGameScreen.style.opacity = '0';
                setTimeout(() => {
                    twoHalfGameScreen.style.display = 'none';
                    hideGameSelect();
                }, 500);
            } else {
                twoOldGameScreen.style.opacity = '0';
                setTimeout(() => {
                    twoOldGameScreen.style.display = 'none';
                    hideGameSelect();
                }, 500);
            }
        }

        // بازگشت از صفحه بازی به صفحه انتخاب بازی
        function backToGameSelect() {
            if (currentGame === 'twoHalf') {
                twoHalfGameScreen.style.opacity = '0';
                setTimeout(() => {
                    twoHalfGameScreen.style.display = 'none';
                    showGameSelect();
                }, 500);
            } else {
                twoOldGameScreen.style.opacity = '0';
                setTimeout(() => {
                    twoOldGameScreen.style.display = 'none';
                    showGameSelect();
                }, 500);
            }
        }

        // رویدادهای کلیک
        settingsBtn.addEventListener('click', showSettings);
        closeSettingsBtn.addEventListener('click', hideSettings);
        startBtn.addEventListener('click', showGameSelect);
        
        onlineBtn.addEventListener('click', () => {
            alert('بازی آنلاین به زودی در دسترس خواهد بود!');
        });
        
        backToMenuBtn.addEventListener('click', hideGameSelect);
        twoHalfGame.addEventListener('click', startTwoHalfGame);
        twoOldGame.addEventListener('click', startTwoOldGame);
        
        backToGameSelectBtn.addEventListener('click', backToGameSelect);
        backToGameSelectBtn2.addEventListener('click', backToGameSelect);
        
        submitAnswerBtn.addEventListener('click', checkAnswer);
        skipQuestionBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            loadTwoHalfQuestion();
        });
        
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // رویدادهای گزینه‌ها در بازی دو اولد
        optionsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('option-btn') && !e.target.disabled) {
                const selectedOption = parseInt(e.target.getAttribute('data-option'));
                checkTwoOldAnswer(selectedOption);
            }
        });
        
        // رویدادهای منوی پایین
        document.getElementById('challengesBtn').addEventListener('click', () => {
            alert('چالش‌ها به زودی اضافه خواهند شد!');
        });
        
        document.getElementById('pathsBtn').addEventListener('click', () => {
            alert('مسیرهای بازی به زودی اضافه خواهند شد!');
        });
        
        document.getElementById('ticketsBtn').addEventListener('click', () => {
            alert('سیستم بلیط به زودی اضافه خواهد شد!');
        });
        
        // رویدادهای تنظیمات
        document.getElementById('contactBtn').addEventListener('click', () => {
            alert('برای ارتباط با ما می‌توانید به آدرس ایمیل support@hoshyar-game.ir پیام دهید.');
        });
        
        document.getElementById('creatorsBtn').addEventListener('click', () => {
            alert('بازی هوشیار توسط تیم توسعه‌دهندگان ایرانی ایجاد شده است.');
        });
        
        document.getElementById('soonBtn').addEventListener('click', () => {
            alert('ویژگی‌های جدیدی در راه است! به زودی از جمله رتبه‌بندی جهانی، چالش‌های روزانه و جوایز ویژه.');
        });
        
        document.getElementById('motionBtn').addEventListener('click', () => {
            alert('حالت بازی با موشن گرافیک فعال شد! از افکت‌های بصری پیشرفته لذت ببرید.');
            // اینجا می‌توانید کلاسی برای فعال کردن موشن‌های بیشتر اضافه کنید
            document.body.classList.add('shimmer');
            setTimeout(() => {
                document.body.classList.remove('shimmer');
            }, 2000);
        });

        // شروع فرآیند لودینگ
        checkImagesLoaded();
        
        // برای نمایش بهتر، یک شبیه‌سازی از لودینگ داریم
        let simulatedProgress = 0;
        const simulateLoading = setInterval(() => {
            simulatedProgress += Math.random() * 10;
            if (simulatedProgress > 90) {
                clearInterval(simulateLoading);
            }
            if (simulatedProgress > 100) simulatedProgress = 100;
            
            // اگر تصاویر هنوز لود نشده‌اند، نوار پیشرفت را آپدیت کن
            if (imagesLoaded < totalImages) {
                const progress = Math.min(simulatedProgress, (imagesLoaded / totalImages) * 100);
                loadingBar.style.width = `${progress}%`;
            }
        }, 200);
    </script>
</body>
</html>
